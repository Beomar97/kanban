"use strict";(self.webpackChunkkanban=self.webpackChunkkanban||[]).push([[883],{9883:(G,c,a)=>{a.r(c),a.d(c,{UserModule:()=>k});var l=a(6895),u=a(7799),t=a(4650),m=a(3385),g=a(9101),d=a(3546),f=a(3868),_=a(127);let h=(()=>{class n{constructor(o){this.angularFireAuth=o}onClick(){this.angularFireAuth.signInWithPopup(new _.Z.auth.GoogleAuthProvider)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(m.zQ))},n.\u0275dir=t.lG2({type:n,selectors:[["","appGoogleSignin",""]],hostBindings:function(o,e){1&o&&t.NdJ("click",function(){return e.onClick()})}}),n})();var v=a(5861),s=a(4006),p=a(9549),C=a(4144);function Z(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"div")(1,"h1"),t._uU(2,"Sign In"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.changeFormType("signup"))}),t._uU(4," New to Kanban \u770b\u677f? Sign up. "),t.qZA()()}}function T(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"div")(1,"h1"),t._uU(2,"Sign Up"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.changeFormType("login"))}),t._uU(4," Already have an account? Sign in. "),t.qZA()()}}function w(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"div")(1,"h1"),t._uU(2,"Reset Password"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.changeFormType("login"))}),t._uU(4,"Back"),t.qZA()()}}function y(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," You must enter a valid email address "),t.qZA())}function b(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Password must be at least 6 characters long "),t.qZA())}function x(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",2),t._UZ(1,"input",10),t.YNc(2,b,2,0,"mat-error",0),t.qZA()),2&n){const o=t.oxw();t.Q6J("color",o.password.valid&&"accent"),t.xp6(2),t.Q6J("ngIf",o.password.invalid&&o.password.dirty)}}function A(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.changeFormType("reset"))}),t._uU(1," Forgot password? "),t.qZA()}}function L(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Password does not match "),t.qZA())}function E(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",2),t._UZ(1,"input",12),t.YNc(2,L,2,0,"mat-error",0),t.qZA()),2&n){const o=t.oxw();t.Q6J("color",o.passwordDoesMatch?"accent":"warn"),t.xp6(2),t.Q6J("ngIf",o.passwordConfirm.dirty&&!o.passwordDoesMatch)}}function U(n,i){if(1&n&&(t.TgZ(0,"button",13),t._uU(1," Submit "),t.qZA()),2&n){const o=t.oxw();t.Q6J("disabled",o.form.invalid||!o.passwordDoesMatch||o.loading)}}function I(n,i){if(1&n&&(t.TgZ(0,"button",14),t._uU(1," Send Reset Email "),t.qZA()),2&n){const o=t.oxw();t.Q6J("disabled",o.loading)}}let J=(()=>{class n{constructor(o,e){this.angularFireAuth=o,this.formBuilder=e,this.type="login",this.loading=!1,this.serverMessage="",this.form=this.formBuilder.group({email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.minLength(8),s.kI.required]],passwordConfirm:["",[]]})}changeFormType(o){this.type=o}get isLogin(){return"login"==this.type}get isSignup(){return"signup"==this.type}get isReset(){return"reset"==this.type}get email(){return this.form.get("email")}get password(){return this.form.get("password")}get passwordConfirm(){return this.form.get("passwordConfirm")}get passwordDoesMatch(){return"signup"!==this.type||this.password?.value===this.passwordConfirm?.value}onSubmit(){var o=this;return(0,v.Z)(function*(){o.loading=!0;const e=o.email.value,r=o.password.value;try{o.isLogin?yield o.angularFireAuth.signInWithEmailAndPassword(e,r):o.isSignup?yield o.angularFireAuth.createUserWithEmailAndPassword(e,r):(yield o.angularFireAuth.sendPasswordResetEmail(e),o.serverMessage="Check your email")}catch(Y){o.serverMessage=String(Y)}o.loading=!1})()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(m.zQ),t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-email-login"]],decls:15,vars:12,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"color"],["matInput","","formControlName","email","type","email","placeholder","Email","autocomplete","off"],[3,"color",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],[1,"server-error"],["mat-raised-button","","color","accent","type","submit",3,"disabled",4,"ngIf"],["mat-stroked-button","","type","submit",3,"disabled",4,"ngIf"],["mat-stroked-button","",3,"click"],["matInput","","formControlName","password","type","password","placeholder","Password","autocomplete","off"],["mat-button","",3,"click"],["matInput","","formControlName","passwordConfirm","type","password","placeholder","Confirm password","autocomplete","off"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-stroked-button","","type","submit",3,"disabled"]],template:function(o,e){1&o&&(t.TgZ(0,"div"),t.YNc(1,Z,5,0,"div",0),t.YNc(2,T,5,0,"div",0),t.YNc(3,w,5,0,"div",0),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"mat-form-field",2),t._UZ(6,"input",3),t.YNc(7,y,2,0,"mat-error",0),t.qZA(),t.YNc(8,x,3,2,"mat-form-field",4),t.YNc(9,A,2,0,"button",5),t.YNc(10,E,3,2,"mat-form-field",4),t.TgZ(11,"mat-error",6),t._uU(12),t.qZA(),t.YNc(13,U,2,1,"button",7),t.YNc(14,I,2,1,"button",8),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("ngIf",e.isLogin),t.xp6(1),t.Q6J("ngIf",e.isSignup),t.xp6(1),t.Q6J("ngIf",e.isReset),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("color",e.email.valid&&"accent"),t.xp6(2),t.Q6J("ngIf",e.email.invalid&&e.email.dirty),t.xp6(1),t.Q6J("ngIf",!e.isReset),t.xp6(1),t.Q6J("ngIf",e.isLogin&&!e.isReset),t.xp6(1),t.Q6J("ngIf",e.isSignup),t.xp6(2),t.Oqu(e.serverMessage),t.xp6(1),t.Q6J("ngIf",!e.isReset),t.xp6(1),t.Q6J("ngIf",e.isReset))},dependencies:[l.O5,g.lW,p.TO,p.KE,C.Nt,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.server-error[_ngcontent-%COMP%]{margin:8px 0}"]}),n})();function F(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.angularFireAuth.signOut())}),t._uU(4," Logout "),t.qZA()()}if(2&n){const o=i.ngIf;t.xp6(2),t.hij("Logged in as ",o.email,"")}}const M=function(){return["fab","google"]};function N(n,i){1&n&&(t._UZ(0,"app-email-login"),t.TgZ(1,"h5"),t._uU(2,"OR"),t.qZA(),t.TgZ(3,"button",3),t._UZ(4,"fa-icon",4),t._uU(5," Sign in with Google "),t.qZA()),2&n&&(t.xp6(4),t.Q6J("icon",t.DdM(1,M)))}const S=[{path:"",component:(()=>{class n{constructor(o){this.angularFireAuth=o}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(m.zQ))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login-page"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["showLogin",""],["mat-stroked-button","",3,"click"],["mat-raised-button","","appGoogleSignin",""],[1,"icon",3,"icon"]],template:function(o,e){if(1&o&&(t.TgZ(0,"mat-card"),t.YNc(1,F,5,1,"div",0),t.ALo(2,"async"),t.YNc(3,N,6,2,"ng-template",null,1,t.W1O),t.qZA()),2&o){const r=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.angularFireAuth.user))("ngIfElse",r)}},dependencies:[l.O5,g.lW,d.a8,f.BN,h,J,l.Ov],styles:[".icon[_ngcontent-%COMP%]{font-size:large}[_nghost-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:100px auto}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(S),u.Bz]}),n})();var Q=a(5715);let k=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,P,Q.m,s.UX]}),n})()}}]);